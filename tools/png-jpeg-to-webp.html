<!-- ãƒ„ãƒ¼ãƒ«å…±é€šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <meta name="description" content="ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«ã®WebPå¤‰æ›ãƒ„ãƒ¼ãƒ« - JPEGãƒ»PNGç”»åƒã‚’ã¾ã¨ã‚ã¦WebPå½¢å¼ã«å¤‰æ›ã§ãã‚‹ç„¡æ–™ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’æœ€å¤§70%å‰Šæ¸›ã—ã€Webã‚µã‚¤ãƒˆã®è¡¨ç¤ºé€Ÿåº¦ã‚’å‘ä¸Šã§ãã¾ã™ã€‚">
  <meta name="keywords" content="WebPå¤‰æ›,WebPç”»åƒ,ç”»åƒåœ§ç¸®,JPEGå¤‰æ›,PNGå¤‰æ›,ç„¡æ–™ãƒ„ãƒ¼ãƒ«,ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¤‰æ›">
  <title>WebPå¤‰æ›ãƒ„ãƒ¼ãƒ« | ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«</title>

  <!-- ãƒªã‚½ãƒ¼ã‚¹ã®å…ˆèª­ã¿ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- å…±é€šCSSã¨ãƒ•ã‚©ãƒ³ãƒˆ -->
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&amp;display=swap" rel="stylesheet">

  <!-- å€‹åˆ¥ãƒ„ãƒ¼ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ« -->
  <style>
    :root{--primary:#0066ff;--secondary:#ff3a3a;--accent:#ff9500;--dark-blue:#0d3283;--light-bg:#f8f9fa;--text-dark:#333;--text-mid:#555;--header-h:60px}*,::after,::before{box-sizing:border-box;margin:0;padding:0}body{font:16px/1.6 'Noto Sans JP',sans-serif;color:var(--text-dark);background:#fff;overflow-x:hidden;display:flex;flex-direction:column;min-height:100vh;-webkit-text-size-adjust:100%}img{max-width:100%;height:auto;vertical-align:middle;border:0}a{text-decoration:none;color:inherit}ul{list-style:none}main{flex:1 0 auto}.site-header{position:fixed;top:0;left:0;width:100%;z-index:1000;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);height:var(--header-h);display:flex;align-items:center}.header-container{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.site-logo-text{font-weight:700;font-size:20px}.site-logo-text a{color:var(--dark-blue)}.hamburger-button{display:block;width:30px;height:30px;position:relative;z-index:1001;border:0;background:0;cursor:pointer}.hamburger-button span{display:block;position:absolute;width:100%;height:2px;background:var(--text-dark);left:0}.hamburger-button span:nth-child(1){top:8px}.hamburger-button span:nth-child(2){top:14px}.hamburger-button span:nth-child(3){bottom:8px}


     /* WebPå¤‰æ›ãƒ„ãƒ¼ãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
     .tool-section {
         padding: 80px 0 40px;
         margin-top: var(--header-h);
         background: #f9f3e9;
     }
     .tool-container {
         max-width: 840px;
         margin: 0 auto;
         padding: 0 20px;
     }
     .tool-title {
         font-size: 28px;
         text-align: center;
         margin-bottom: 1rem;
         color: var(--text-dark);
     }
     .tool-subtitle {
         font-size: 16px;
         color: var(--text-mid);
         text-align: center;
         margin-bottom: 8px;
     }
     .tool-label {
         font-size: 12px;
         display: table;
         margin: 0 auto;
         padding: 4px 10px;
         border-radius: 15px;
         background: var(--text-mid);
         color: #fff;
         letter-spacing: .05em;
     }

     /* ã‚¹ãƒ†ãƒƒãƒ—ã‚¹ã‚¿ã‚¤ãƒ« */
     .step-section {
         background: #fff;
         border-radius: 10px;
         padding: 25px;
         position: relative;
         margin-top: 30px;
         box-shadow: 0 4px 10px rgba(0,0,0,0.05);
     }
     .step-number {
         position: absolute;
         left: -10px;
         top: -10px;
         display: flex;
         align-items: center;
         justify-content: center;
         width: 30px;
         height: 30px;
         font-weight: 700;
         text-align: center;
         background: var(--primary);
         color: #fff;
         border-radius: 50%;
         font-size: 16px;
     }
     .step-title {
         font-size: 18px;
         margin-bottom: 10px;
         line-height: 1.3;
     }
     .step-description {
         font-size: 14px;
         color: var(--text-mid);
         margin-bottom: 15px;
     }

     /* ãƒ‰ãƒ­ãƒƒãƒ—ã‚¨ãƒªã‚¢ */
     .drop-area {
         border: 2px dashed #ccc;
         border-radius: 8px;
         padding: 20px;
         text-align: center;
         cursor: pointer;
         transition: all 0.3s;
         margin-bottom: 20px;
     }
     .drop-area.active {
         border-color: var(--primary);
         background: rgba(0, 102, 255, 0.05);
     }
     .drop-area-icon {
         font-size: 32px;
         margin-bottom: 10px;
         color: #aaa;
     }
     .drop-area-text {
         margin-bottom: 10px;
     }
     .file-button {
         display: inline-block;
         background: var(--primary);
         color: white;
         padding: 6px 14px;
         border-radius: 4px;
         font-size: 14px;
         cursor: pointer;
         transition: background 0.3s;
     }
     .file-button:hover {
         background: #0052cc;
     }
     .file-input {
         display: none;
     }

     /* ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */
     .files-container {
         display: flex;
         flex-wrap: wrap;
         gap: 10px;
         margin-bottom: 20px;
     }
     .file-item {
         position: relative;
         width: 100px;
         height: 100px;
         border-radius: 4px;
         overflow: hidden;
         box-shadow: 0 2px 5px rgba(0,0,0,0.1);
     }
     .file-preview {
         width: 100%;
         height: 100%;
         object-fit: cover;
     }
     .file-remove {
         position: absolute;
         right: 5px;
         top: 5px;
         width: 20px;
         height: 20px;
         background: rgba(255,0,0,0.8);
         color: white;
         border-radius: 50%;
         display: flex;
         align-items: center;
         justify-content: center;
         font-size: 12px;
         cursor: pointer;
         z-index: 1;
     }     .files-meta {
         font-size: 14px;
         color: var(--text-mid);
         margin-bottom: 15px;
     }

     /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º */
     .status-message {
         padding: 10px;
         margin: 10px 0;
         border-radius: 5px;
         text-align: center;
         font-weight: 500;
         transition: opacity 0.3s;
     }
     .status-message.success {
         background: #d4edda;
         color: #155724;
         border: 1px solid #c3e6cb;
     }
     .status-message.error {
         background: #f8d7da;
         color: #721c24;
         border: 1px solid #f5c6cb;
     }
     .status-message:empty {
         display: none;
     }

     /* å“è³ªã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ */
     .quality-slider-container {
         margin-bottom: 20px;
     }
     .quality-slider-label {
         display: flex;
         justify-content: space-between;
         margin-bottom: 5px;
     }
     .quality-slider {
         width: 100%;
         -webkit-appearance: none;
         appearance: none;
         height: 6px;
         border-radius: 3px;
         background: #ddd;
         outline: none;
     }
     .quality-slider::-webkit-slider-thumb {
         -webkit-appearance: none;
         appearance: none;
         width: 18px;
         height: 18px;
         border-radius: 50%;
         background: var(--primary);
         cursor: pointer;
     }
     .quality-slider::-moz-range-thumb {
         width: 18px;
         height: 18px;
         border-radius: 50%;
         background: var(--primary);
         cursor: pointer;
     }

     /* ãƒœã‚¿ãƒ³ */
     .btn-container {
         display: flex;
         justify-content: space-between;
         margin-top: 20px;
     }
     .btn-primary, 
     .btn-secondary {
         padding: 10px 20px;
         border: none;
         border-radius: 4px;
         font-size: 16px;
         font-weight: 600;
         cursor: pointer;
         display: inline-flex;
         align-items: center;
         justify-content: center;
         transition: all 0.3s;
     }
     .btn-primary {
         background: var(--primary);
         color: white;
     }
     .btn-secondary {
         background: #e0e0e0;
         color: var(--text-dark);
     }
     .btn-primary:hover {
         background: #0052cc;
     }
     .btn-secondary:hover {
         background: #d0d0d0;
     }
     .btn-primary:disabled,
     .btn-secondary:disabled {
         opacity: 0.6;
         cursor: not-allowed;
     }
     .btn-primary i,
     .btn-secondary i {
         margin-right: 8px;
     }

     /* çµæœãƒ†ãƒ¼ãƒ–ãƒ« */
     .result-table {
         width: 100%;
         border-collapse: collapse;
         margin-top: 20px;
     }
     .result-table th,
     .result-table td {
         padding: 8px 12px;
         text-align: left;
         border-bottom: 1px solid #eee;
     }
     .result-table th {
         background: #f5f5f5;
         font-weight: 600;
         color: var(--text-dark);
     }
     .file-size-reduction {
         color: #2e7d32;
         font-weight: 600;
     }

     /* ãã®ä»–ã®ãƒ„ãƒ¼ãƒ« */
     .other-tools {
       margin-top: 40px;
     }
     .other-tools-title {
       font-size: 18px;
       margin-bottom: 15px;
       text-align: center;
     }
     .tools-list {
       display: flex;
       flex-wrap: wrap;
       gap: 10px;
       justify-content: center;
     }
     .tool-link {
       display: inline-block;
       padding: 8px 16px;
       background: white;
       border-radius: 20px;
       border: 1px solid #e0e0e0;
       font-size: 14px;
       transition: all 0.3s;
     }
     .tool-link:hover {
       background: var(--primary);
       color: white;
       transform: translateY(-2px);
       border-color: var(--primary);
     }

     /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–èª¿æ•´ */
     @media (max-width: 768px) {
         .tool-title {
             font-size: 24px;
         }
         .step-section {
             padding: 20px;
         }
         .btn-container {
             flex-direction: column;
             gap: 15px;
         }
         .btn-primary, 
         .btn-secondary {
             width: 100%;
         }
         .result-table {
             font-size: 14px;
         }
         .result-table th,
         .result-table td {
             padding: 6px 8px;
         }
     }
  </style>
</head>
<body>  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="site-header">
    <div class="header-container">
        <div class="site-logo-text">
            <a href="../index.html">CLAN</a>
        </div>
        <nav class="global-nav pc-nav" aria-label="ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
            <ul>
                <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
                <li><a href="../achievement/index.html">ãŠå®¢æ§˜ã®å£°</a></li>
                <li><a href="/blog/index.html">ãƒ–ãƒ­ã‚°</a></li>
            <li><a href="../tools/index.html">ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«</a></li></ul>
        </nav>
        <button class="hamburger-button sp-nav" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã" type="button">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
  </header>

  <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <div class="mobile-menu">
    <nav aria-label="ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
        <ul>
            <li><a href="../index.html">ãƒ›ãƒ¼ãƒ </a></li>
            <li><a href="../achievement/index.html">ãŠå®¢æ§˜ã®å£°</a></li>
            <li><a href="/blog/index.html">ãƒ–ãƒ­ã‚°</a></li>
        <li><a href="../tools/index.html">ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«</a></li></ul>
    </nav>
    </div>

  <main id="main-content">
    <!-- ãƒ„ãƒ¼ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <section class="tool-section">
      <div class="tool-container">
        <span class="tool-label">ç”»åƒãƒ„ãƒ¼ãƒ«</span>
        <h1 class="tool-title">WebPå¤‰æ›ãƒ„ãƒ¼ãƒ«</h1>
        <p class="tool-subtitle">JPEGãƒ»PNGç”»åƒã‚’WebPå½¢å¼ã«å¤‰æ›ã—ã¦ç”»åƒã‚µã‚¤ã‚ºã‚’å‰Šæ¸›</p>

        <!-- ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ— -->
        <div class="step-section">
          <div class="step-number">1</div>
          <h2 class="step-title">JPEGãƒ»PNGç”»åƒã‚’é¸æŠ</h2>
          <p class="step-description">å¤‰æ›ã—ãŸã„ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹ã‹ã€ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€åº¦ã«é¸æŠã§ãã¾ã™ã€‚</p>
          
          <div id="dropArea" class="drop-area">
            <div class="drop-area-icon">ğŸ“</div>
            <p class="drop-area-text">ã“ã“ã«ç”»åƒã‚’ãƒ‰ãƒ­ãƒƒãƒ—</p>
            <label class="file-button">
              ç”»åƒã‚’é¸æŠ
              <input type="file" id="fileInput" class="file-input" accept="image/jpeg,image/png,image/gif" multiple>
            </label>
          </div>
            <!-- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
          <div id="filesContainer" class="files-container"></div>
          <div id="filesMeta" class="files-meta"></div>
          
          <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º -->
          <div id="status" class="status-message"></div>
        </div>
        
        <!-- ã‚¹ãƒ†ãƒƒãƒ—2: å¤‰æ›è¨­å®š -->
        <div class="step-section">
          <div class="step-number">2</div>
          <h2 class="step-title">å¤‰æ›è¨­å®š</h2>
          <p class="step-description">WebPã®å“è³ªã‚’èª¿æ•´ã—ã¾ã™ã€‚å“è³ªã‚’ä¸‹ã’ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚Šã¾ã™ãŒã€ç”»è³ªãŒä½ä¸‹ã—ã¾ã™ã€‚</p>
          
          <div class="quality-slider-container">
            <div class="quality-slider-label">
              <span>å“è³ª:</span>
              <span id="qualityValue">80%</span>
            </div>
            <input type="range" id="qualitySlider" class="quality-slider" min="10" max="100" value="80" step="5">
          </div>
          
          <!-- å¤‰æ›ãƒœã‚¿ãƒ³ -->
          <div class="status-container">
            <div id="status" class="status"></div>
          </div>
          
          <div class="btn-container">
            <button id="convertBtn" class="btn-primary">â†’ WebPã«å¤‰æ›ã™ã‚‹</button>
            <button id="downloadBtn" class="btn-secondary" disabled>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
          </div>
        </div>        <!-- å¤‰æ›çµæœ -->
        <div id="resultTableContainer"></div>        <!-- ä»–ã®ãƒ„ãƒ¼ãƒ«ãƒªãƒ³ã‚¯ -->
        <div class="other-tools">
          <h2 class="other-tools-title">ãã®ä»–ã®ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«</h2>
          <div class="tools-list">
            <a href="calc.html" class="tool-link">ä¸–ç•Œã®å˜ä½æ›ç®—ãƒ„ãƒ¼ãƒ«</a>
            <a href="image-resize.html" class="tool-link">ç”»åƒã‚µã‚¤ã‚ºå¤‰æ›´</a>
            <a href="png-jpeg-to-webp.html" class="tool-link">WebPå¤‰æ›ãƒ„ãƒ¼ãƒ«</a>
            <a href="png-to-jpeg.html" class="tool-link">PNGâ†’JPEGå¤‰æ›</a>
            <a href="meme-generator.html" class="tool-link">ãƒŸãƒ¼ãƒ ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</a>
            <a href="letters-counter.html" class="tool-link">æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ</a>
            <a href="color-palette.html" class="tool-link">ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ</a>
            <a href="wareki-seireki.html" class="tool-link">å¹´é½¢ãƒ»å’Œæš¦è¨ˆç®—ãƒ„ãƒ¼ãƒ«</a>
          </div>
        </div>
      </div>    </section>  </main>
  
    <!-- é‡å¤§å‘ŠçŸ¥ -->
    <div class="important-notice">
        <h2>UTAGEæ§‹ç¯‰ä»£è¡Œä¸¸æŠ•ã’ã¡ã‚ƒã‚“ã¨ã¯ï¼Ÿ</h2>
        <a href="https://utage-system.com/p/EcESO02xLLoK" class="important-notice-button">è©³ç´°ã‚’è¦‹ã‚‹</a>
    </div>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="cta-container">
            <h2 class="cta-title" data-aos="fade-up">ITå°å…¥è£œåŠ©é‡‘2025æ´»ç”¨å¯èƒ½</h2>
            <h3 class="cta-subtitle" data-aos="fade-up" data-aos-delay="100">ç”³è«‹ã¯å®Œå…¨ä¸¸æŠ•ã’OKï¼</h3>
            <p class="cta-text" data-aos="fade-up" data-aos-delay="200">
                UTAGEã®å°å…¥ã§æœ€å¤§75ä¸‡å††ã®è£œåŠ©é‡‘ãŒå—ã‘ã‚‰ã‚Œã¾ã™ã€‚<br>
                é¢å€’ãªç”³è«‹æ‰‹ç¶šãã¯ã™ã¹ã¦ãŠä»»ã›ãã ã•ã„ã€‚<br>
                ã‚ãªãŸã¯äº‹æ¥­æˆé•·ã«é›†ä¸­ã™ã‚‹ã ã‘ã§OKã§ã™ã€‚
            </p>
            <div class="cta-buttons" data-aos="fade-up" data-aos-delay="300">
                <a href="https://utage-marunage.com/it-hojo/" class="cta-btn">ç„¡æ–™ç›¸è«‡ã—ã¦ã¿ã‚‹</a>
            </div>
        </div>
    </section>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="site-footer">
  <div class="footer-container">
    <div class="footer-brand">
      <h2>CLAN</h2>
    </div>
    <nav class="footer-links" aria-label="ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
      <ul>
        <li><a href="/achievement/index.html" 
               title="UTAGEå°å…¥ä¼æ¥­ã®æˆåŠŸäº‹ä¾‹">ãŠå®¢æ§˜ã®å£°</a></li>
        <li><a href="/blog/index.html" 
               title="UTAGEæ´»ç”¨æ–¹æ³•ã«é–¢ã™ã‚‹ãƒ–ãƒ­ã‚°è¨˜äº‹">ãƒ–ãƒ­ã‚°</a></li>
        <li><a href="/tools/index.html" 
               title="ç„¡æ–™ã§ä½¿ãˆã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ„ãƒ¼ãƒ«é›†">ã¾ãˆã‚†ããƒ„ãƒ¼ãƒ«</a></li>
        <li><a href="/owner.html" 
               title="CLANã®é‹å–¶ä¼šç¤¾æƒ…å ±">é‹å–¶è€…æƒ…å ±</a></li>
        <li><a href="/terms.html" 
               title="ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è¦ç´„">åˆ©ç”¨è¦ç´„</a></li>
        <li><a href="/privacy.html" 
               title="å€‹äººæƒ…å ±ã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
        <li><a href="/tokutei.html" 
               title="ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</a></li>
      </ul>
    </nav>
  </div>
</footer>

  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®åˆ¶å¾¡
        const hamburgerButton = document.querySelector('.hamburger-button');
        const mobileMenu = document.querySelector('.mobile-menu');
        
        if (hamburgerButton && mobileMenu) {
            hamburgerButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('active');
                hamburgerButton.classList.toggle('active');
            });
        }

        // ã™ã¹ã¦ã®AOSè¦ç´ ã‚’ç¢ºå®Ÿã«è¡¨ç¤ºçŠ¶æ…‹ã«ã™ã‚‹
        const allAosElements = document.querySelectorAll('[data-aos]');
        if (allAosElements.length > 0) {
            allAosElements.forEach(el => {
                el.classList.add('aos-animate');
                el.style.opacity = '1';
                el.style.transform = 'none';
                el.removeAttribute('data-aos');
            });
        }
        
        // AOSåˆæœŸåŒ– - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Œå…¨ã«ç„¡åŠ¹åŒ–
        if (typeof AOS !== 'undefined') {
            AOS.init({
                duration: 0,
                easing: 'linear',
                once: true,
                offset: 0,
                disable: true,
                startEvent: 'DOMContentLoaded',
                disableMutationObserver: true
            });
            
            setTimeout(function() {
                document.querySelectorAll('*[data-aos]').forEach(function(el) {
                    el.style.opacity = '1';
                    el.style.transform = 'none';
                });
            }, 100);
        }

        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¤œå‡ºã®ãŸã‚ã®Intersection Observer
        const fadeElements = document.querySelectorAll('.fade-in');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });

        fadeElements.forEach(element => {
            observer.observe(element);
        });
    });  </script>
  
  <!-- JSZipã®èª­ã¿è¾¼ã¿ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!-- WebPå¤‰æ›ç”¨JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // è¦ç´ ã®å‚ç…§
        const dropArea = document.getElementById('dropArea');
        const fileInput = document.getElementById('fileInput');
        const filesContainer = document.getElementById('filesContainer');
        const filesMeta = document.getElementById('filesMeta');
        const qualitySlider = document.getElementById('qualitySlider');
        const qualityValue = document.getElementById('qualityValue');
        const convertBtn = document.getElementById('convertBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const resultTableContainer = document.getElementById('resultTableContainer');

        // çŠ¶æ…‹ç®¡ç†
        let selectedFiles = [];
        let convertedImages = [];
        let quality = 80;

        // WebPã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ï¼ˆè©³ç´°ç‰ˆï¼‰
        function checkWebPSupport() {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                if (!canvas.getContext || !canvas.getContext('2d')) {
                    resolve({ 
                        supported: false, 
                        reason: 'Canvas APIãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“' 
                    });
                    return;
                }

                // ã‚ˆã‚Šè©³ç´°ãªWebPæ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
                const webpData = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
                const img = new Image();
                
                img.onload = () => {
                    resolve({ 
                        supported: img.width === 1 && img.height === 1,
                        reason: img.width === 1 && img.height === 1 ? '' : 'WebPç”»åƒã®èª­ã¿è¾¼ã¿ã«å¤±æ•—'
                    });
                };
                
                img.onerror = () => {
                    resolve({ 
                        supported: false, 
                        reason: 'WebPç”»åƒå½¢å¼ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“' 
                    });
                };
                
                img.src = webpData;
                
                // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†
                setTimeout(() => {
                    resolve({ 
                        supported: false, 
                        reason: 'WebPã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ' 
                    });
                }, 1000);
            });
        }        // WebPã‚µãƒãƒ¼ãƒˆã®åˆæœŸåŒ–
        async function initWebPSupport() {
            const supportResult = await checkWebPSupport();
            
            if (!supportResult.supported) {
                const errorMessage = document.createElement('div');
                errorMessage.className = 'error-message';
                errorMessage.style.color = '#f00';
                errorMessage.style.padding = '15px';
                errorMessage.style.marginTop = '20px';
                errorMessage.style.background = '#ffeeee';
                errorMessage.style.borderRadius = '8px';
                errorMessage.style.border = '1px solid #ffcccc';
                errorMessage.innerHTML = `
                    <strong>âš ï¸ WebPå¤‰æ›ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“</strong><br>
                    ç†ç”±: ${supportResult.reason}<br><br>
                    <strong>æ¨å¥¨ãƒ–ãƒ©ã‚¦ã‚¶:</strong><br>
                    â€¢ Google Chrome 23+<br>
                    â€¢ Microsoft Edge 18+<br>
                    â€¢ Firefox 65+<br>
                    â€¢ Safari 14+<br><br>
                    <small>ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æœ€æ–°ç‰ˆã«æ›´æ–°ã—ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</small>
                `;

                dropArea.parentNode.appendChild(errorMessage);
                dropArea.style.opacity = '0.5';
                convertBtn.disabled = true;
                downloadBtn.disabled = true;
                return false;
            }
            return true;
        }

        // åˆæœŸåŒ–
        initWebPSupport();        // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã®è¨­å®š
        setupFileDropAndSelection();

        // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒãƒ—ã¨ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠæ©Ÿèƒ½ã®å®Ÿè£…
        function setupFileDropAndSelection() {
            // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆ
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            // ãƒ‰ãƒ©ãƒƒã‚°ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });

            function highlight() {
                dropArea.classList.add('active');
            }

            function unhighlight() {
                dropArea.classList.remove('active');
            }

            // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†
            dropArea.addEventListener('drop', handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }

            // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒœã‚¿ãƒ³
            fileInput.addEventListener('change', function(e) {
                handleFiles(e.target.files);
            });

            // ãƒ‰ãƒ­ãƒƒãƒ—ã‚¨ãƒªã‚¢ã‚¯ãƒªãƒƒã‚¯
            dropArea.addEventListener('click', function() {
                fileInput.click();
            });
        }

        // å“è³ªã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
        qualitySlider.addEventListener('input', function() {
            quality = parseInt(this.value);
            qualityValue.textContent = `${quality}%`;
        });        // ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†
        function handleFiles(files) {
            const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB
            const MAX_TOTAL_SIZE = 50 * 1024 * 1024; // 50MB
            
            const validFiles = Array.from(files).filter(file => {
                const type = file.type.toLowerCase();
                const isValidType = type === 'image/jpeg' || type === 'image/png' || type === 'image/gif';
                
                if (!isValidType) {
                    updateUI(`${file.name}ã¯å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™ï¼ˆJPEG/PNG/GIF ã®ã¿å¯¾å¿œï¼‰`, true);
                    return false;
                }
                
                if (file.size > MAX_FILE_SIZE) {
                    updateUI(`${file.name}ã®ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™ï¼ˆæœ€å¤§10MBï¼‰`, true);
                    return false;
                }
                
                return true;
            });

            if (validFiles.length === 0) {
                return;
            }

            // åˆè¨ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯
            const currentTotalSize = selectedFiles.reduce((sum, file) => sum + file.size, 0);
            const newTotalSize = validFiles.reduce((sum, file) => sum + file.size, 0);
            
            if (currentTotalSize + newTotalSize > MAX_TOTAL_SIZE) {
                updateUI('ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆè¨ˆã‚µã‚¤ã‚ºãŒä¸Šé™ï¼ˆ50MBï¼‰ã‚’è¶…ãˆã¦ã„ã¾ã™', true);
                return;
            }

            // æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ 
            selectedFiles = [...selectedFiles, ...validFiles];

            // UIã‚’æ›´æ–°
            updateFilesUI();
            updateFilesMetaUI();

            // å¤‰æ›ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            convertBtn.disabled = selectedFiles.length === 0;
        }        // ãƒ•ã‚¡ã‚¤ãƒ«UIæ›´æ–°
        function updateFilesUI() {
            filesContainer.innerHTML = '';

            selectedFiles.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const fileItem = createFileItem(file, e.target.result, index);
                    filesContainer.appendChild(fileItem);
                };
                reader.readAsDataURL(file);
            });
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿æƒ…å ±æ›´æ–°
        function updateFilesMetaUI() {
            if (selectedFiles.length === 0) {
                filesMeta.textContent = '';
                return;
            }

            let totalSize = 0;
            selectedFiles.forEach(file => {
                totalSize += file.size;
            });

            const sizeInMB = (totalSize / (1024 * 1024)).toFixed(2);
            filesMeta.textContent = `${selectedFiles.length}æšã®ç”»åƒï¼ˆåˆè¨ˆ ${sizeInMB} MBï¼‰`;
        }        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ãƒ†ãƒ ä½œæˆ
        function createFileItem(file, previewUrl, fileIndex) {
            const fileItem = document.createElement('div');
            fileItem.className = 'file-item';

            const preview = document.createElement('img');
            preview.className = 'file-preview';
            preview.src = previewUrl;

            const removeBtn = document.createElement('div');
            removeBtn.className = 'file-remove';
            removeBtn.textContent = 'Ã—';
            removeBtn.addEventListener('click', function() {
                selectedFiles.splice(fileIndex, 1);
                updateFilesUI();
                updateFilesMetaUI();
                convertBtn.disabled = selectedFiles.length === 0;
            });

            fileItem.appendChild(preview);
            fileItem.appendChild(removeBtn);
            return fileItem;
        }

        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç”¨ã®ãƒ•ãƒ©ã‚°
        let isConversionCancelled = false;

        // WebPå½¢å¼ã«å¤‰æ›
        function convertToWebP(file, quality) {
            return new Promise((resolve, reject) => {
                if (isConversionCancelled) {
                    reject(new Error('å¤‰æ›ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ'));
                    return;
                }

                const img = new Image();
                img.onload = function() {
                    try {
                        const canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        
                        const ctx = canvas.getContext('2d');
                        
                        // ãƒ¡ãƒ¢ãƒªä¸è¶³å¯¾ç­–ï¼šå¤§ããªç”»åƒã®å ´åˆã¯å“è³ªã‚’èª¿æ•´
                        if (img.width * img.height > 4000000) { // 4MPä»¥ä¸Š
                            ctx.imageSmoothingEnabled = true;
                            ctx.imageSmoothingQuality = 'medium';
                        }
                        
                        ctx.drawImage(img, 0, 0);
                        
                        // WebPã«å¤‰æ›
                        canvas.toBlob(blob => {
                            if (blob && blob.size > 0) {
                                resolve(blob);
                            } else {
                                reject(new Error('WebPå¤‰æ›ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç”»åƒãŒå¤§ãã™ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚'));
                            }
                        }, 'image/webp', quality / 100);
                    } catch (error) {
                        reject(new Error(`å¤‰æ›å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`));
                    }
                };
                
                img.onerror = () => reject(new Error('ç”»åƒã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚'));
                
                // ç”»åƒèª­ã¿è¾¼ã¿
                const reader = new FileReader();
                reader.onload = e => {
                    img.src = e.target.result;
                };
                reader.onerror = () => reject(new Error('ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ'));
                reader.readAsDataURL(file);
            });
        }

        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã®è¿½åŠ ï¼ˆWebPç”¨ï¼‰
        function addCancelButtonWebP() {
            if (document.getElementById('cancelBtnWebP')) return;
            
            const cancelBtn = document.createElement('button');
            cancelBtn.id = 'cancelBtnWebP';
            cancelBtn.textContent = 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«';
            cancelBtn.className = 'btn-secondary';
            cancelBtn.style.marginLeft = '10px';
            cancelBtn.style.display = 'none';
            
            cancelBtn.addEventListener('click', function() {
                isConversionCancelled = true;
                cancelBtn.style.display = 'none';
                convertBtn.textContent = 'â†’ WebPã«å¤‰æ›ã™ã‚‹';
                convertBtn.disabled = false;
                updateUI('å¤‰æ›ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ', false);
            });
            
            convertBtn.parentNode.appendChild(cancelBtn);
        }

        // å¤‰æ›ãƒœã‚¿ãƒ³
        convertBtn.addEventListener('click', async function() {
            if (selectedFiles.length === 0) return;

            // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ
            isConversionCancelled = false;
            
            // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            addCancelButtonWebP();

            convertBtn.disabled = true;
            convertBtn.textContent = 'å¤‰æ›ä¸­...';
            document.getElementById('cancelBtnWebP').style.display = 'inline-block';

            // å¤‰æ›çµæœã‚’ã‚¯ãƒªã‚¢
            convertedImages = [];

            // è¡¨ç¤ºç”¨ã®çµæœãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æº–å‚™
            resultTableContainer.innerHTML = `
                <table class="result-table">
                    <thead>
                        <tr>
                            <th>å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«</th>
                            <th>å…ƒã®ã‚µã‚¤ã‚º</th>
                            <th>WebPã‚µã‚¤ã‚º</th>
                            <th>å‰Šæ¸›ç‡</th>
                        </tr>
                    </thead>
                    <tbody id="resultTableBody">
                    </tbody>
                </table>
            `;

            const resultTableBody = document.getElementById('resultTableBody');

            // å„ç”»åƒã‚’å¤‰æ›
            for (let i = 0; i < selectedFiles.length; i++) {
                if (isConversionCancelled) break;
                
                const file = selectedFiles[i];
                try {
                    const webpBlob = await convertToWebP(file, quality);

                    // å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ‹¡å¼µå­ã‚’å–ã‚Šé™¤ãã€.webpã‚’è¿½åŠ 
                    const originalName = file.name;
                    const baseName = originalName.substring(0, originalName.lastIndexOf('.')) || originalName;
                    const webpName = `${baseName}.webp`;

                    // å¤‰æ›çµæœã‚’ä¿å­˜
                    convertedImages.push({
                        name: webpName,
                        blob: webpBlob,
                        originalSize: file.size,
                        webpSize: webpBlob.size
                    });

                    // çµæœãƒ†ãƒ¼ãƒ–ãƒ«ã«è¿½åŠ 
                    const row = document.createElement('tr');

                    const originalSizeKB = (file.size / 1024).toFixed(1);
                    const webpSizeKB = (webpBlob.size / 1024).toFixed(1);
                    const reductionPercent = ((1 - webpBlob.size / file.size) * 100).toFixed(1);

                    row.innerHTML = `
                        <td>${originalName}</td>
                        <td>${originalSizeKB} KB</td>
                        <td>${webpSizeKB} KB</td>
                        <td class="file-size-reduction">${reductionPercent}%</td>
                    `;

                    resultTableBody.appendChild(row);                } catch (err) {
                    console.error('å¤‰æ›ã‚¨ãƒ©ãƒ¼:', err);

                    // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
                    updateUI(`${file.name}ã®å¤‰æ›ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${err.message}`, true);

                    // ã‚¨ãƒ©ãƒ¼è¡Œã‚’è¿½åŠ 
                    const errorRow = document.createElement('tr');
                    errorRow.innerHTML = `
                        <td>${file.name}</td>
                        <td colspan="3" style="color: red;">å¤‰æ›ã‚¨ãƒ©ãƒ¼: ${err.message}</td>
                    `;
                    resultTableBody.appendChild(errorRow);
                }
            }

            // å¤‰æ›å®Œäº†
            convertBtn.textContent = 'å¤‰æ›å®Œäº†!';
            downloadBtn.disabled = convertedImages.length === 0;

            // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            updateUI('WebPã¸ã®å¤‰æ›ãŒå®Œäº†ã—ã¾ã—ãŸï¼');

            setTimeout(() => {
                convertBtn.textContent = 'â†’ WebPã«å¤‰æ›ã™ã‚‹';
                convertBtn.disabled = false;
                document.getElementById('cancelBtnWebP').style.display = 'none';
            }, 2000);
        });

        // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³
        downloadBtn.addEventListener('click', function(e) {
            if (convertedImages.length === 0) {
                e.preventDefault();
                return;
            }

            // å˜ä¸€ç”»åƒã®å ´åˆã¯ç›´æ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            if (convertedImages.length === 1) {
                const url = URL.createObjectURL(convertedImages[0].blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = convertedImages[0].name;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                return;
            }

            // è¤‡æ•°ç”»åƒã®å ´åˆã¯ZIPã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            e.preventDefault();

            const zip = new JSZip();

            // ç”»åƒã‚’ZIPã«è¿½åŠ 
            convertedImages.forEach(image => {
                zip.file(image.name, image.blob);
            });

            // ZIPã‚’ç”Ÿæˆã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            zip.generateAsync({ type: 'blob' }).then(content => {
                const url = URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = `webp_images_${new Date().toISOString().slice(0, 10)}.zip`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        });        // UIçŠ¶æ…‹ã®æ›´æ–°
        function updateUI(message, isError = false) {
            const statusElement = document.getElementById('status');
            if (!statusElement) {
                console.warn('Status element not found');
                return;
            }
            
            statusElement.textContent = message;
            statusElement.className = `status-message ${isError ? 'error' : 'success'}`;
            
            // ä¸€å®šæ™‚é–“å¾Œã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ¶ˆã™
            setTimeout(() => {
                statusElement.textContent = '';
                statusElement.className = 'status-message';
            }, 5000);
        }
    });
  </script>
  <!-- çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆå„ªå…ˆèª­ã¿è¾¼ã¿ï¼‰ -->
  <script src="../js/common-cache.js" onerror="console.warn('common-cache.js not found')"></script>
  <script src="../js/common-lazy-loading.js" onerror="console.warn('common-lazy-loading.js not found')"></script>
  <script src="../js/common-init.js" onerror="console.warn('common-init.js not found')"></script>
</body>
</html>